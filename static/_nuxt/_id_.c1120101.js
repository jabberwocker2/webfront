import{y,g as S,r as b,h as w,i as T,o as n,c as a,k as e,a as t,t as c,l as h,b as m,d as k,v as $,s as C,D as B,z as L,q as N,w as P,F as z,m as F,n as V}from"./entry.946fca91.js";import E from"./MainLayout.e1ed160a.js";import"./TopNav.f1bc90c8.js";import"./nuxt-link.4ed46cda.js";const M={key:0,class:"absolute flex items-center justify-center top-0 left-0 aspect-[3/4] w-full object-cover rounded-md border"},U={class:"text-gray-700 text-[25px] pt-1 break-words"},j=["src"],R={class:"px-1"},D={class:"text-gray-700 text-[15px] pt-1 break-words"},I={class:"flex items-center -ml-1 text-gray-600 font-bold text-xs"},K={__name:"PostUser",props:["post"],setup(d){const{$generalStore:i}=C(),o=y(),x=S();let s=b(null),_=b(!1);w(()=>{s.value&&s.value.addEventListener("loadeddata",r=>{r.target&&setTimeout(()=>{_.value=!0},200)})}),T(()=>{s.value.pause(),s.value.currentTime=0,s.value.src=""});const v=r=>{i.setBackUrl("/profile/"+o.params.id),i.selectedPost=null,setTimeout(()=>x.push(`/post/${r.id}`),300)},p=r=>{console.log(s.value.currentSrc),s.value.currentSrc!="http://localhost:8000/"&&(r?s.value.play():s.value.pause())};return(r,l)=>{const u=$;return n(),a("div",{onClick:l[0]||(l[0]=f=>v(d.post)),onMouseenter:l[1]||(l[1]=f=>p(!0)),onMouseleave:l[2]||(l[2]=f=>p(!1)),class:"relative brightness-90 hover:brightness-[1.1] cursor-pointer"},[e(_)?h("",!0):(n(),a("div",M,[t("p",U,c(d.post.text),1)])),t("div",null,[t("video",{ref_key:"video",ref:s,muted:"",loop:"",class:"aspect-[3/4] object-cover rounded-md",src:d.post.video},null,8,j)]),t("div",R,[t("div",D,c(d.post.text),1),t("div",I,[m(u,{name:"gg:loadbar-sound",size:"20"}),k(" 3% "),m(u,{class:"ml-1",name:"tabler:alert-circle",size:"16"})])])],32)}}},q=K,A={class:"flex w-[calc(100vw-230px)]"},H=["src"],O={class:"ml-5 w-full"},G={class:"text-[30px] font-bold truncate"},J={class:"text-[18px] truncate"},Q=t("div",null,"Edit profile",-1),W={class:"flex items-center pt-4"},X=t("div",{class:"mr-4"},[t("span",{class:"font-bold"},"10K"),t("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Following")],-1),Y=t("div",{class:"mr-4"},[t("span",{class:"font-bold"},"44K"),t("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Followers")],-1),Z={class:"mr-4"},tt={class:"font-bold"},et=t("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Sparks",-1),st={class:"pt-4 mr-4 text-gray-500 font-light text-[15px] pl-1.5 max-w-[500px]"},ot={class:"w-full flex items-center pt-4 border-b"},lt=t("div",{class:"w-60 text-center py-2 text-[17px] font-semibold border-b-2 border-b-black"},"Videos",-1),rt={class:"w-60 text-gray-500 text-center py-2 text-[17px] font-semibold"},nt={class:"mt-4 grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-3"},pt={__name:"[id]",setup(d){const{$userStore:i,$profileStore:o,$generalStore:x}=C(),{posts:s,allLikes:_}=B(o),v=y();let p=b(!1);return w(async()=>{try{await o.getProfile(v.params.id)}catch(r){console.log(r)}}),console.log(i.color),L(()=>s.value,()=>{setTimeout(()=>p.value=!0,300)}),(r,l)=>{const u=$,f=q;return n(),N(E,null,{default:P(()=>[e(o).name?(n(),a("div",{key:0,id:"profileContainer",class:V([`bg-gradient-to-br from-white to-${e(i).color}-500`,"pt-[10px] 2xl:pl-[185px] lg:pl-[240px] lg:pr-0 pr-2 w-[calc(100%-90px)] max-w-[1800px] 2xl:mx-auto"])},[t("div",A,[t("img",{class:"max-w-[120px] rounded-full",src:e(o).image},null,8,H),t("div",O,[t("div",G,c(e(x).allLowerCaseNoCaps(e(o).name)),1),t("div",J,c(e(o).name),1),e(o).id===e(i).id?(n(),a("button",{key:0,onClick:l[0]||(l[0]=g=>e(x).isEditProfileOpen=!0),class:"flex item-center rounded-md py-1.5 px-3.5 mt-3 text-[15px] font-semibold border hover:bg-gray-100"},[m(u,{class:"mt-0.5 mr-1",name:"mdi:pencil",size:"18"}),Q])):(n(),a("button",{key:1,onClick:l[1]||(l[1]=g=>r.follow()),class:"flex item-center rounded-md py-1.5 px-8 mt-3 text-[15px] text-white font-semibold bg-[#f0cc2c]"}," Follow "))])]),t("div",W,[X,Y,t("div",Z,[t("span",tt,c(e(_)),1),et])]),t("div",st,c(e(o).bio),1),t("div",ot,[lt,t("div",rt,[m(u,{name:"material-symbols:lock-open",class:"mb-0.5"}),k(" Thoughts ")])]),t("div",nt,[e(p)?(n(!0),a(z,{key:0},F(e(o).posts,g=>(n(),a("div",null,[m(f,{post:g},null,8,["post"])]))),256)):h("",!0)])],2)):h("",!0)]),_:1})}}};export{pt as default};
